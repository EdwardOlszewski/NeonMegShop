{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ed\\\\Desktop\\\\Websites\\\\NeonMegShop\\\\frontend\\\\src\\\\components\\\\PaymentForm.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { cardCharge } from '../actions/orderActions';\n\nconst PaymentForm = ({\n  updateBillingInfo,\n  billingDetails,\n  history\n}) => {\n  _s();\n\n  const stripe = useStripe();\n  const elements = useElements();\n  const dispatch = useDispatch();\n  const orderDetails = useSelector(state => state.orderDetails);\n  const {\n    order\n  } = orderDetails;\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const {\n      error,\n      paymentMethod\n    } = await stripe.createPaymentMethod({\n      type: 'card',\n      card: elements.getElement(CardElement),\n      billing_details: billingDetails\n    });\n\n    if (!error) {\n      const {\n        id\n      } = paymentMethod;\n      var amount = parseInt(order.totalPrice * 100);\n      dispatch(cardCharge(id, amount, order._id));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Form, {\n    id: \"payment-form\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, \"Card Number\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"card-element\",\n    className: \"form-control\",\n    style: {\n      paddingTop: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardElement, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginTop: '2rem'\n    },\n    type: \"submit\",\n    onClick: () => updateBillingInfo(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, \"Submit Payment\"));\n};\n\n_s(PaymentForm, \"mdIaoXE23O/0HSFcoznntTRgkbI=\", false, function () {\n  return [useStripe, useElements, useDispatch, useSelector];\n});\n\n_c = PaymentForm;\nexport default PaymentForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"PaymentForm\");","map":{"version":3,"sources":["C:/Users/Ed/Desktop/Websites/NeonMegShop/frontend/src/components/PaymentForm.js"],"names":["React","Form","Button","CardElement","useStripe","useElements","useSelector","useDispatch","cardCharge","PaymentForm","updateBillingInfo","billingDetails","history","stripe","elements","dispatch","orderDetails","state","order","handleSubmit","e","preventDefault","error","paymentMethod","createPaymentMethod","type","card","getElement","billing_details","id","amount","parseInt","totalPrice","_id","paddingTop","marginTop"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,iBAA7B;AACA,SAASC,WAAT,EAAsBC,SAAtB,EAAiCC,WAAjC,QAAoD,yBAApD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,UAAT,QAA2B,yBAA3B;;AAEA,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA,iBAAF;AAAqBC,EAAAA,cAArB;AAAqCC,EAAAA;AAArC,CAAD,KAAoD;AAAA;;AACtE,QAAMC,MAAM,GAAGT,SAAS,EAAxB;AACA,QAAMU,QAAQ,GAAGT,WAAW,EAA5B;AACA,QAAMU,QAAQ,GAAGR,WAAW,EAA5B;AAEA,QAAMS,YAAY,GAAGV,WAAW,CAAEW,KAAD,IAAWA,KAAK,CAACD,YAAlB,CAAhC;AACA,QAAM;AAAEE,IAAAA;AAAF,MAAYF,YAAlB;;AAEA,QAAMG,YAAY,GAAG,MAAOC,CAAP,IAAa;AAChCA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAM;AAAEC,MAAAA,KAAF;AAASC,MAAAA;AAAT,QAA2B,MAAMV,MAAM,CAACW,mBAAP,CAA2B;AAChEC,MAAAA,IAAI,EAAE,MAD0D;AAEhEC,MAAAA,IAAI,EAAEZ,QAAQ,CAACa,UAAT,CAAoBxB,WAApB,CAF0D;AAGhEyB,MAAAA,eAAe,EAAEjB;AAH+C,KAA3B,CAAvC;;AAMA,QAAI,CAACW,KAAL,EAAY;AACV,YAAM;AAAEO,QAAAA;AAAF,UAASN,aAAf;AACA,UAAIO,MAAM,GAAGC,QAAQ,CAACb,KAAK,CAACc,UAAN,GAAmB,GAApB,CAArB;AACAjB,MAAAA,QAAQ,CAACP,UAAU,CAACqB,EAAD,EAAKC,MAAL,EAAaZ,KAAK,CAACe,GAAnB,CAAX,CAAR;AACD;AACF,GAbD;;AAeA,sBACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,cAAT;AAAwB,IAAA,QAAQ,EAAEd,YAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAEE;AACE,IAAA,EAAE,EAAC,cADL;AAEE,IAAA,SAAS,EAAC,cAFZ;AAGE,IAAA,KAAK,EAAE;AAAEe,MAAAA,UAAU,EAAE;AAAd,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CAFF,eASE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb,KADT;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,OAAO,EAAE,MAAMzB,iBAAiB,EAHlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBATF,CADF;AAmBD,CA1CD;;GAAMD,W;UACWL,S,EACEC,W,EACAE,W,EAEID,W;;;KALjBG,W;AA4CN,eAAeA,WAAf","sourcesContent":["import React from 'react'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { cardCharge } from '../actions/orderActions'\r\n\r\nconst PaymentForm = ({ updateBillingInfo, billingDetails, history }) => {\r\n  const stripe = useStripe()\r\n  const elements = useElements()\r\n  const dispatch = useDispatch()\r\n\r\n  const orderDetails = useSelector((state) => state.orderDetails)\r\n  const { order } = orderDetails\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\r\n      type: 'card',\r\n      card: elements.getElement(CardElement),\r\n      billing_details: billingDetails,\r\n    })\r\n\r\n    if (!error) {\r\n      const { id } = paymentMethod\r\n      var amount = parseInt(order.totalPrice * 100)\r\n      dispatch(cardCharge(id, amount, order._id))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Form id='payment-form' onSubmit={handleSubmit}>\r\n      <Form.Label>Card Number</Form.Label>\r\n      <div\r\n        id='card-element'\r\n        className='form-control'\r\n        style={{ paddingTop: '1rem' }}\r\n      >\r\n        <CardElement />\r\n      </div>\r\n      <Button\r\n        style={{ marginTop: '2rem' }}\r\n        type='submit'\r\n        onClick={() => updateBillingInfo()}\r\n      >\r\n        Submit Payment\r\n      </Button>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default PaymentForm\r\n"]},"metadata":{},"sourceType":"module"}